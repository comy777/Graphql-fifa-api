"use strict";(self["webpackChunkfifa_app_player"]=self["webpackChunkfifa_app_player"]||[]).push([[897],{3897:function(e,a,n){n.r(a),n.d(a,{default:function(){return E}});var t=n(6252),r=n(9963),s=n(3577),i={class:"container mt-5"},l=(0,t._)("h1",null,"Search",-1),o={class:"mb-4"},c=(0,t._)("label",{for:"",class:"form-label"},"Search",-1),u={class:"form-check"},h=(0,t._)("label",{class:"form-check-label"},"Team",-1),p={class:"form-check"},d=(0,t._)("label",{class:"form-check-label"},"Player",-1),m={key:0,class:"mt-2 mb-2"},g={key:1,class:"mt-2 mb-2"},f=(0,t._)("button",{class:"btn btn-primary"},"Search",-1),y={key:0},v={key:1,class:"mt-5"},k=(0,t._)("h2",null,"Resultados",-1),P=(0,t._)("br",null,null,-1),_=(0,t._)("br",null,null,-1),b=(0,t._)("br",null,null,-1),w={key:0,class:"d-flex"},T=(0,t._)("h5",null,"Ordenar",-1),S={class:"row"},I={class:"card cardPlayer mt-2"},D={class:"card-body"},$={class:"card-title btn btn-primary"},z={class:"card-text"},x={class:"card-text"},C={class:"card-text"},U={class:"d-flex justify-content-center mt-4"},q=(0,t._)("p",{class:"me-1"},"Page",-1),G=["onClick"];function M(e,a,n,M,J,O){var V=this,H=(0,t.up)("font-awesome-icon");return(0,t.wg)(),(0,t.iD)("div",i,[l,(0,t._)("form",{onSubmit:a[3]||(a[3]=(0,r.iM)((function(a){return e.handleSearch()}),["prevent"]))},[(0,t._)("div",o,[c,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=function(e){return V.search=e}),class:"form-control"},null,512),[[r.nr,this.search]])]),(0,t._)("div",u,[(0,t.wy)((0,t._)("input",{type:"radio",value:"team","onUpdate:modelValue":a[1]||(a[1]=function(a){return e.picked=a}),class:"form-check-input"},null,512),[[r.G2,e.picked]]),h]),(0,t._)("div",p,[(0,t.wy)((0,t._)("input",{type:"radio",value:"player","onUpdate:modelValue":a[2]||(a[2]=function(a){return e.picked=a}),class:"form-check-input"},null,512),[[r.G2,e.picked]]),d]),e.errorTeam||e.errorPlayer?((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("p",null,(0,s.zw)(this.errorMessage),1)])):(0,t.kq)("",!0),this.errorSearch?((0,t.wg)(),(0,t.iD)("div",g,[(0,t._)("p",null,(0,s.zw)(this.errorMsg),1)])):(0,t.kq)("",!0),f],32),e.loadingTeam?((0,t.wg)(),(0,t.iD)("div",y,"Buscando...")):(0,t.kq)("",!0),this.resp?((0,t.wg)(),(0,t.iD)("div",v,[k,(0,t._)("p",null,[(0,t.Uk)(" Total pages: "+(0,s.zw)(this.response.totalPages)+" ",1),P,(0,t.Uk)(" Page: "+(0,s.zw)(this.response.page)+" ",1),_,(0,t.Uk)(" Total Items: "+(0,s.zw)(this.response.items)+" ",1),b,(0,t.Uk)(" Items: "+(0,s.zw)(this.response.totalItems),1)]),(0,t._)("div",null,[this.players?((0,t.wg)(),(0,t.iD)("div",w,[T,(0,t._)("div",{class:"pageClass d-flex ms-2",onClick:a[4]||(a[4]=function(a){return e.handleSearchOrder()})},[(0,t.Wm)(H,{icon:"fa-solid fa-arrow-down"}),(0,t.Wm)(H,{icon:"fa-solid fa-arrow-up"})])])):(0,t.kq)("",!0),(0,t._)("div",S,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(this.response.players,(function(e,a){return(0,t.wg)(),(0,t.iD)("div",{class:"col-sm-6",key:a},[(0,t._)("div",I,[(0,t._)("div",D,[(0,t._)("h5",$,(0,s.zw)(e.name),1),(0,t._)("div",null,[(0,t._)("p",z,"Equipo: "+(0,s.zw)(e.club),1),(0,t._)("p",x,"Posicion: "+(0,s.zw)(e.position),1),(0,t._)("p",C,"Pais: "+(0,s.zw)(e.nation),1)])])])])})),128))])]),(0,t._)("div",U,[q,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.page,(function(a,n){return(0,t.wg)(),(0,t.iD)("p",{key:n,onClick:function(n){return e.handleSearchPage(a)},class:"pageClass me-2"},(0,s.zw)(a),9,G)})),128))])])):(0,t.kq)("",!0)])}var J,O,V,H=n(655),K=n(8670),L=n(7283),W=((0,L.Ps)(J||(J=(0,H.cy)(["\n  mutation login($input: LoginInput) {\n    login(input: $input) {\n      token\n    }\n  }\n"],["\n  mutation login($input: LoginInput) {\n    login(input: $input) {\n      token\n    }\n  }\n"]))),(0,L.Ps)(O||(O=(0,H.cy)(["\n  mutation searchPlayer($input: PlayerInput) {\n    searchPlayer(input: $input) {\n      items\n      page\n      players {\n        club\n        name\n        position\n        nation\n      }\n      totalItems\n      totalPages\n    }\n  }\n"],["\n  mutation searchPlayer($input: PlayerInput) {\n    searchPlayer(input: $input) {\n      items\n      page\n      players {\n        club\n        name\n        position\n        nation\n      }\n      totalItems\n      totalPages\n    }\n  }\n"])))),Y=(0,L.Ps)(V||(V=(0,H.cy)(["\n  mutation searchTeam($input: TeamInput) {\n    searchTeam(input: $input) {\n      totalItems\n      totalPages\n      page\n      items\n      players {\n        club\n        nation\n        position\n        name\n      }\n    }\n  }\n"],["\n  mutation searchTeam($input: TeamInput) {\n    searchTeam(input: $input) {\n      totalItems\n      totalPages\n      page\n      items\n      players {\n        club\n        nation\n        position\n        name\n      }\n    }\n  }\n"]))),Z=(0,t.aZ)({name:"search-component",setup:function(){var e=(0,K.Db)(Y),a=e.mutate,n=e.loading,t=e.error,r=(0,K.Db)(W),s=r.mutate,i=r.loading,l=r.error;return{searchTeam:a,loadingTeam:n,errorTeam:t,searchPlayer:s,loadingPlayer:i,errorPlayer:l}},data:function(){return{search:"",response:{},resp:!1,picked:"",errorMessage:"No hay coincidencias",page:[],activePage:"",errorSearch:!1,errorMsg:"Todos los campos son obligatorios",players:!1,order:"asc"}},methods:{handleSearch:function(){return(0,H.mG)(this,void 0,void 0,(function(){return(0,H.Jh)(this,(function(e){return this.errorSearch&&(this.errorSearch=!1),this.search&&this.picked?(this.resp&&(this.resp=!1,this.page=[]),this.validate(this.picked),[2]):(this.errorSearch=!0,[2])}))}))},validate:function(e){return(0,H.mG)(this,void 0,void 0,(function(){var a,n,t,r,s;return(0,H.Jh)(this,(function(i){switch(i.label){case 0:return"team"!==e?[3,2]:(this.players&&(this.players=!1),[4,this.searchTeam({input:{name:this.search}})]);case 1:return n=i.sent(),n?n.data?(this.resp=!0,this.response=n.data.searchTeam,a=this.response,r=a.totalPages,s=a.page,this.pages(r,s),[3,4]):[2]:[2];case 2:return[4,this.searchPlayer({input:{search:this.search}})];case 3:if(n=i.sent(),!n)return[2];if(!n.data)return[2];this.players=!0,this.resp=!0,this.response=n.data.searchPlayer,t=this.response,r=t.totalPages,s=t.page,this.pages(r,s),i.label=4;case 4:return[2]}}))}))},handleSearchPage:function(e){return(0,H.mG)(this,void 0,void 0,(function(){var a,n;return(0,H.Jh)(this,(function(t){switch(t.label){case 0:return this.activePage=e,"team"!==this.picked?[3,2]:(a=parseInt(e),[4,this.searchTeam({input:{name:this.search,page:a}})]);case 1:return n=t.sent(),n?n.data?(this.response=n.data.searchTeam,[3,4]):[2]:[2];case 2:return a=parseInt(e),[4,this.searchPlayer({input:{search:this.search,page:a}})];case 3:if(n=t.sent(),!n)return[2];if(!n.data)return[2];this.response=n.data.searchPlayer,t.label=4;case 4:return[2]}}))}))},pages:function(e,a){if(this.activePage=a.toString(),1!==e)for(var n=0;n<e;n++){var t=n+1;this.page[n]=t.toString()}else this.page[0]=e.toString()},handleSearchOrder:function(){return(0,H.mG)(this,void 0,void 0,(function(){var e,a;return(0,H.Jh)(this,(function(n){switch(n.label){case 0:return"asc"===this.order&&(this.order="desc"),"desc"===this.order&&(this.order="asc"),e=parseInt(this.activePage),[4,this.searchPlayer({input:{search:this.search,page:e,order:this.order}})];case 1:return a=n.sent(),a?a.data?(console.log(a.data.searchPlayer),this.response=a.data.searchPlayer,[2]):[2]:[2]}}))}))}}}),j=n(3744);const B=(0,j.Z)(Z,[["render",M]]);var E=B}}]);
//# sourceMappingURL=897.f060cf83.js.map